<h1 class="m-2"> Groups List </h1>

<div style="background-color: #e4ecf7;">
  <div class="d-flex flex-row-reverse bd-highlight" style="background-color: #3778c2">
    <div class="p-3 bd-highlight" style="color: #9cb8db">Most ancient</div>
    <div class="p-3 bd-highlight" style="color: #c1d2e8">Most recent</div>
  </div>
  <div class="d-flex flex-row-reverse bd-highlight bg-white">
    <div class="p-2 bd-highlight">$00.00</div>
    <div class="p-2 bd-highlight">Gift credit</div>
  </div>
  <br/>
  <div class="d-flex flex-column align-item-center" id="tran_groups" style="min-height: 58vh;">
    <% if user_signed_in? %>
      <% @groups.sort_by{ |group| group.created_at }.reverse.each do |group| %>
        <div class="p-2 m-2 rounded border shadow-sm bg-light d-flex">
          <div class="d-flex flex-row p-2 w-100 bd-highlight">
            <div>
              <%= raw group.icon %>
            </div>
            <div class="ps-4">
              <h4><%= link_to group.name, group_expenses_path(group), style: "text-decoration: none; color:#919294;" %></h4>
              <p style="font-size: 12px; color:#919294;"><%= group.created_at.to_date %></p>
            </div>
          </div>
          <div class="p-2 flex-shrink-1" style="color:#434b54;">
            <h5>$<%= group.expenses.sum(:amount) %></h5>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
  <br/>
  <div class="p-2 d-flex justify-content-center" style="background-color: #5fb523">
    <% if user_signed_in? %>
      <%= link_to "Add new group", new_group_path, class: "btn btn-outline-light" %>
    <% else %>
      <%= link_to "Sign in", new_user_session, class: "btn btn-outline-light" %>
    <% end %>
  </div>
</div>